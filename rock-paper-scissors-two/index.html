<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        
        <div id="score-container">
            <ul>
                <li>You! "<span id="player-score">0</span>"</li>
                <li>THEM! "<span id="computer-score">0</span>"</li>
            </ul>
        </div>
        <div id="selection-container">
            <button id="rock">🪨</button>
            <button id="paper">🧻</button>
            <button id="scissors">✂️</button>
        </div>
        <div id="result-container">

        </div>

    </div>
    

    <script>
        const choices = ["rock", "paper", "scissors"];
        let playerScore = 0;
        let computerScore = 0;

        const buttons = document.querySelectorAll('button');
        const playerScoreDisplay = document.querySelector('#player-score');
        const computerScoreDisplay = document.querySelector('#computer-score');
        const resultContainer = document.querySelector('#result-container');

        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                const result = playRound(button.id, getComputerChoice());
                showResult(result);
                updateScores(result);
            });
        });
        
        function showResult(str) {
            // Remove all child elements from the resultContainer
            while (resultContainer.firstChild) {
                resultContainer.removeChild(resultContainer.firstChild);
            }

            const div = document.createElement('div');
            div.classList.add('result');
            div.textContent = str;

            resultContainer.appendChild(div);    
        }

        function random(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function getComputerChoice() {
            return choices[random(0, choices.length)];
        }

        function playRound(playerSelection, computerSelection) {
            const winConditions = {
                'rock': 'scissors',
                'paper': 'rock',
                'scissors': 'paper'
            };

            if (playerSelection === computerSelection) {
                return "Draw!";
            } else if (winConditions[playerSelection] === computerSelection) {
                return "You Won!";
            } else {
                return "You Lose!";
            }
        }

        function updateScores(result) {
            if (result === "You Won!") {
                playerScore++;
                playerScoreDisplay.textContent = playerScore;
            } else if (result === "You Lose!") {
                computerScore++;
                computerScoreDisplay.textContent = computerScore;
            }

            if (playerScore === 5) {
                showResult("You won the game!");
                disableButtons();
            } else if (computerScore === 5) {
                showResult("You lost the game!");
                disableButtons();
            }
        }

        function disableButtons() {
            buttons.forEach((button) => {
                button.disabled = true;
            });
        }
    </script>
</body>
</html>
